# okn-kaluga

# Задание 3.2 по дисциплине “Методы пространственного анализа. Продвинутый уровень”

**Состав команды**: Карнюшина Мария, Кучина Оля, Леттиева Екатерина, Торосян Софья
**Ссылка  на карту**: [Тык]()

#### Краткая информация о городе Калуга :blush:

Административный центр Калужской области, образует муниципальное образование — городской округ г. Калуга, находится в Центральном федеральном округе.

Расположен на берегах р. Оки, изначально построен как город-крепость.
Первое официальное упоминание в 1371 году (грамота литовского князя Ольгерда), археологические исследования говорят о том, что люди селились на месте Калуги и до 14 века.

В своем позиционировании Калуга активно использует тот факт, что с 1892 по 1935 год в городе жил и работал К. Э. Циолковский, основоположник теоретической астронавтики. Например, в городе есть крупнейший в России музей истории космонавтики, а на флаге города даже изображен космический спутник.

**Площадь города** *(в границах городского округа)*: 165.7 кв. км
**Количество ОКН в городе** — 322, из них:
- 21 были отнесены к точечным памятникам, а 301 — к полигональным объектам капитального строительства
- 42,5% — объекты регионального значения, 33,5% — федерального и 23,9% — местного
- 90% объектов являются памятниками, 10% — ансамблями 

**Планировочная структура центра города**: регулярная сетка, которая искривляется из-за изгиба реки Оки, от центра города расходятся лучи, образуя радиальную сеть, которая пересекается несколькими кольцевыми дорогами. Это обеспечивает удобное движение как внутри города, так и между его различными районами.

Калуга — это *не только центр исторического наследия*, но и *важный промышленный город*. Здесь развиты автомобильная, электронная и пищевая промышленность. В последние годы в Калуге активно развивается космическая отрасль благодаря созданию специализированных производственных площадок.

Город активно развивается, привлекая туристов и инвесторов, благодаря своему удобному географическому положению и богатой культурной жизни.

#### Описание используемых данных с указанием источников

В ходе выполнения задания были использованы *следующие данные*:

- границы города — OSM — использованы для визуализации.
- данные о городской застройке — OSM — использованы для пространственной привязки ОКН к полигонам (в случае с ОКН объектами капитального строительства)
- данные об ОКН — данные от Беллы — в случае ОКН объектов капитального строительства использованы для привязки информации об ОКН к полигонам зданий (использовались наименование ОКН, дата создания, полный адрес, номер в реестре, категория историко-культурного значения, вид объекта); в случае ОКН памятников по координатам ОКН-памятники были геокодированы в точечный слой пространственных данных (использовалась та же информация о них, что и в случае с ОКН объектами капитального строительства).
- данные об архитектурном стиле ОКН — собраны вручную самостоятельно, изначально хотели при помощи токена и автоматического запроса получить от Chat GPT, но это оказалось только платным, поэтому мы собрали эту информацию вручную, в том числе при помощи качественной визуальной оценки — использованы для дополнения информации об ОКН на веб-карте.

#### Описание основных методов: 
- категоризация на полигоны и точки по типу ОКН (объекты капитального строительства — полигоны зданий, памятники — точки размещения памятников);
- категоризация ОКН по категории историко-культурного значения (объекты федерального, регионального и местного значения) при помощи цвета;
- создание уникальной иконки для отображения точек ОКН (то есть памятников);
- агрегация данных об ОКН по сетке — плотность окн;
- mini map;
- full screen;
- search — поиск по объектам окн;
- mouse position — отображение курсора;
- layer control — переключатель слоев;
- кластеризация (агрегация) окн по их количеству при уменьшении масштаба;
- отображение слоя land use;
- внедрение пользовательского шрифта Lato;

#### Что было самым сложным в работе:
(1) Если выгружать напрямую из OSM данные с помощью OSMnx, то данные ломанные, поэтому необходимо было дополнительно обрабатывать в Qgis и конвертировать в geojson с перепроецированием данных.
(2) Неудобно, что сначало нужно делать отображение False, а потом менять на True.

#### Что получилось в работе и вы можете этим гордиться:
Гордимся всем, что получилось)))
Все, что сделали, написано в используемых методах.

#### Что не получилось и почему:
(1) Не получилось визуализировать данные о численности населения. Планировалось использовать жилую площадь (residential area) зданий из выгрузки OSM и среднюю жилищную обеспеченность по г. Калуга (22,3 кв.м/чел по сайту управы г. Калуга). Однако мы столкнулись с тем, что зданий с значениями residential/apartments крайне мало, явно не все жилые дома учитывались, в слое доминирует количество строк со значением “yes”, то есть здания неопределенного типа. В связи с этим от использования данных по численности населения мы были вынуждены отказаться 
(2) Не получилось автоматически выгрузить данные об архитектурном стиле — на 301 здание (полигональной конфигурации, точечные памятники не оценивали) ОКН Калуги мы вручную собрали эту информацию.

